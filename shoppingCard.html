<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
    </style>
</head>

<body>



    <script>

        const body = document.querySelector("body");
        body.style.width = "373px";
        body.style.height = "auto";
        body.style.border = "1px solid rgba(181, 181, 181, 1)";
        body.style.display = "flex";
        body.style.flexDirection = "column";
        body.style.alignItems = "center";

        const menu = document.createElement("div");
        body.appendChild(menu);
        menu.style.width = "375px";
        menu.style.height = "88px";
        menu.style.borderBottom = "1px solid rgba(181, 181, 181, 1)";
        menu.style.alignItems = "center";
        menu.style.justifyContent = "space-between";
        menu.style.display = "flex";
        menu.style.flexDirection = "row";


        const cyber = document.createElement("img");
        menu.appendChild(cyber);
        cyber.src = "Logo Vector.png";
        cyber.style.width = "65.4px";
        cyber.style.height = "22.87px";
        cyber.style.marginLeft = "16px";

        const burger = document.createElement("img");
        menu.appendChild(burger);
        burger.src = "Burger.png";
        burger.style.width = "40px";
        burger.style.height = "40px";
        burger.style.marginRight = "24px";

        const shoppingCardDiv = document.createElement("div");
        body.appendChild(shoppingCardDiv);
        shoppingCardDiv.style.marginTop = "40px";
        shoppingCardDiv.style.display = "flex";
        shoppingCardDiv.style.alignItems = "center";
        shoppingCardDiv.style.width = "341px";
        shoppingCardDiv.style.height = "24px";

        const shoppingCard = document.createElement("h1");
        shoppingCardDiv.appendChild(shoppingCard);
        shoppingCard.style.fontSize = "24px";
        shoppingCard.innerText = "Shopping Cart";
        shoppingCard.style.marginLeft = "0px";



                let totalPrice = 0;

                let cart = JSON.parse(localStorage.getItem("cart")) || [];
                cart.forEach(product => {


                    const products = document.createElement("div");
                    body.appendChild(products);
                    products.style.marginTop = "0px";
                    products.style.display = "flex";
                    products.style.alignItems = "center";
                    products.style.width = "341px";
                    products.style.height = "152px";
                    products.style.borderBottom = "1px solid rgba(163, 163, 163, 1)";
                    products.style.marginBottom = "0px";

                    const productImageDiv = document.createElement("div");
                    products.appendChild(productImageDiv);
                    productImageDiv.style.display = "flex";
                    productImageDiv.style.alignItems = "center";
                    productImageDiv.style.width = "90px";
                    productImageDiv.style.height = "90px";

                    const productInfos = document.createElement("div");
                    products.appendChild(productInfos);
                    productInfos.style.display = "flex";
                    productInfos.style.flexDirection = "column";
                    productInfos.style.width = "236px";
                    productInfos.style.height = "120px";
                    productInfos.style.marginLeft = "15px";

                const productImage = document.createElement("img");
                productImageDiv.appendChild(productImage);
                    productImage.src = product.image;
                productImage.style.width = "90px";
                productImage.style.height = "90px";

                const productTitle = document.createElement("p");
                productInfos.appendChild(productTitle);
                    productTitle.innerText = product.title;


                    const PriceAndQuantity = document.createElement("div");
                    productInfos.appendChild(PriceAndQuantity);
                    PriceAndQuantity.style.width = "232px";
                    PriceAndQuantity.style.height = "32px";
                    PriceAndQuantity.style.display = "flex";
                    PriceAndQuantity.style.alignItems = "center";
                    PriceAndQuantity.style.justifyContent = "space-between";


                    const price = document.createElement("p");
                    PriceAndQuantity.appendChild(price);
                    price.innerText = product.price + "$";
                    price.style.fontSize = "20px";
                    price.style.fontWeight = "700";
                    price.style.marginLeft = "128px";


              

                    totalPrice += product.price;


                    const close = document.createElement("img");
                    PriceAndQuantity.appendChild(close);
                    close.style.width = "24px";
                    close.style.height = "24px";
                    close.src = "close.png";

                    close.onclick = () => {


                        products.remove();

                        let cart = JSON.parse(localStorage.getItem("cart")) || [];

                        cart = cart.filter(item => item.title !== product.title);

                        localStorage.setItem("cart", JSON.stringify(cart));


                    }
               



                });




        const totalOrder = document.createElement("div");
        body.appendChild(totalOrder);
        totalOrder.style.width = "341px";
        totalOrder.style.height = "32px";
        totalOrder.style.display = "flex";
        totalOrder.style.flexDirection = "row";
        totalOrder.style.alignItems = "center";
        totalOrder.style.justifyContent = "space-between";
        totalOrder.style.marginTop = "35px";


        const totalText = document.createElement("p");
        totalOrder.appendChild(totalText);
        totalText.innerText = "Total";
        totalText.style.fontFamily = "arial";
        totalText.style.fontSize = "17px";
        totalText.style.fontWeight = "600";
        totalText.style.color = "rgba(0, 0, 0, 1)";


        const totalPriceText = document.createElement("p");
        totalOrder.appendChild(totalPriceText);
        totalPriceText.innerText = totalPrice+"$";
        totalPriceText.style.fontSize = "20px";
        totalPriceText.style.color = "rgba(0, 0, 0, 1)";



        const CheckoutButton = document.createElement("div");
        body.appendChild(CheckoutButton);
        CheckoutButton.style.width = "309px";
        CheckoutButton.style.height = "56px";
        CheckoutButton.style.borderRadius = "6px";
        CheckoutButton.innerText = "Checkout";
        CheckoutButton.style.backgroundColor = "black";
        CheckoutButton.style.color = "white";
        CheckoutButton.style.marginTop = "50px";
        CheckoutButton.style.display = "flex";
        CheckoutButton.style.alignItems = "center";
        CheckoutButton.style.justifyContent = "center";
        CheckoutButton.style.fontFamily = "arial";
        CheckoutButton.style.fontSize = "16px";

        CheckoutButton.onclick = () => {


            const urlParams = new URLSearchParams(window.location.search);

            let url = "step1.html";
            window.location.href = url;

        }

      

        const footer = document.createElement("img");
        body.appendChild(footer);
        footer.src = "footer.png";
        footer.style.marginTop = "100px";



    </script>

</body>
</html>